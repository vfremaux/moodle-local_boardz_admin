define(["jquery","core/config","core/log"],function(a,b,c){var d={init:function(){a(".snappable").bind("click",this.snapToClipboard),a("#entity-drop-button").bind("click",this.openImportPopup),a("#entity-drop-button-close").bind("click",this.closeImportPopup),a("#entity-import-button").bind("click",this.importEntity),c.debug("AMD Boardz clipboard initialized")},snapToClipboard:function(){var b,c=a(this),d=c.attr("data-target");b="self"===d?c.attr("data-str"):a("#"+d).attr("data-str");var e=document.createElement("textarea");e.value=b,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},openImportPopup:function(b){var c=parseInt(b.pageX);a("#entity-drop-form").css("left",c-330+"px"),a("#entity-drop-form").css("top","80px"),a("#entity-drop-form").removeClass("local-boardz-admin-hide")},closeImportPopup:function(b){a("#entity-drop-form").addClass("local-boardz-admin-hide"),b.stopPropagation()},importEntity:function(){var c=b.wwwroot+"/local/boardz_admin/ajax/services.php";c+="?sesskey="+b.sesskey,c+="&what=import",c+="&importdata="+a('textarea[name="entityimportdata"]').val(),a.get(c,function(){document.location.reload(!0)},"json"),a("#entity-drop-form").addClass("local-boardz-admin-hide")}};return d});